# 주제선정 이유
>코드를 효율적으로 짜는것은 누구든 중요하게 생각한다. 물론 나도 그게 중요하다고 생각하지만 막상 주기를 관리하거나 state를 효율적으로 정리한 코드는 깊게 생각하거나 짜본적이 없었다. 그렇기때문에 당연히 LifeCycle API에 대해서도 그렇게 크게 중요하다고 생각해본적이 없었다. 그런데 작업을 하다보니 렌더링이 되는 시점에서 업데이트가 되야하는데 업데이트가 되지 못한 상황이 발생했다. 이처럼 state를 새롭게 갱신하고, 리랜더링을 하고 완료가 됐음을 알려주기 위해서는 LifeCycle API가 중요하다는것을 느꼈고, 다음부터는 효율적인 API관리를 하기 위해서 이 주제를 선정하게 되었다.

# LifeCycle API
### LifeCycle API란?
> 컴포넌트가 브라우저 상에서 화면에 출력될때, 꺼질때, 업데이트가 되어 새로운 화면을 출력할때 사용되는 API이다.

## 컴포넌트의 초기 생성
### constructor()
> 컴포넌트가 생성 되기 전에 가장 먼저 호출되는 생성자 함수이다.
컴포넌트가 새로 만들어질때마다 Constructor함수가 호출된다.
사용법은 다음과 같다.
```javascript
constructor(props){
  super(props)
}
```

### componentWillMount()
> 이 API는 컴포넌트가 화면에 출력될때 호출된다. 여기선 주로 D3, masonry 처럼 DOM 을 사용해야하는 외부 라이브러리 연동을 하거나, 해당 컴포넌트에서 필요로하는 데이터를 요청하기 위해 axios, fetch 등을 통하여 ajax 요청을 하거나, DOM 의 속성을 읽거나 직접 변경하는 작업인 스크롤을 설정한다거나 크기를 읽어오게 된다.

```javascript
componentWillMount(){
  /// 이런식으로 사용하게 된다.
}
```
## 컴포넌트의 업데이트
### componentWillReceiveProps()
>componentWillReceiveProps는 컴포넌트가 새로운 props 를 받게됐을 때 호출되는 API이다. state가 props에 따라 변해야 할때 작성하게 된다. 새로 받게될 props는 nextProps로 확인(?) 할 수 있으며, 이 때 this.props는 업데이트 되기 전의 state이다.
```javascript
componentWillReceiveProps(nextProps) {
  // 이렇게 사용하게 된다.
}
```

### shouldComponentUpdate()
>부모 컴포넌트가 update가 될때 자식 컴포넌트도 update되게 하기 위해 사용을 하는 API이다. 아직 shouldComponentUpdate를 써보지는 않았지만, 기본적으로 true를 return하고 있다. 필요에 따라 fasle로 return값을 줘 리렌더링을 하지 않을 수가 있다.
```javascript
shouldComponentUpdate(nextProps, nextState) {
  return true;
}
```
### componentWillUpdate()
> shouldComponentUpdate에서 true로 return했을때만 호출되는 API이다. 이 함수가 호출된 뒤에는 리렌더링이 된다는점을 유의하고 사용하자. 단, shouldComponentUpdate에서 false로 return했을때는 호출되지 않는다.
```javascript
componentWillUpdate(nextProps, nextState) {
	/// 이런식으로 사용이 가능하다.
}
```

### componentDidUpdate()
> componentDidUpdate는 컴포넌트의 rendering이 완료된, 업데이트가 완료된 시점에 호출하게 되는 API이다. 초기 렌더링에는 호출되지 않는다. 이 시점에는 this.props와 this.state가 바뀐다. 또, 파라미터를 통해 이전의 값인 prevProps와 prevState를 확인할 수 있다.
props가 변경되지 않은 경우 네트워크 요청이 필요하지 않을 수 있다.
```javascript
componentDidUpdate(prevProps, prevState, snapshot) {
	/// 사용은 이런식으로 가능하다.
}
```

## 컴포넌트의 제거
### componentWillUnmount()
> componentWillUnmount()는 컴포넌트가 unmount 또는 사라지기 전에 호출되는 함수다. componentDidMount(), 이벤트, setTimeout, 외부 라이브러리 제거를 위해 사용하게 된다.
```javascript
componentWillUnmount(){
  // 이런식으로 사용할 수 있다.
}
```

## 호출 순서
### 컴포넌트 인스턴스가 작성되어 DOM에 삽입될때 호출되는 순서
> constructor()
>>static getDerivedStateFromProps() (일반적으로 잘 사용되지 않는 API이므로 잘 몰라도 된다고 한다.)
>>>render()
>>>>componentDidMount()
// 순서는 알아두도록 하자.