자바스크립트는 동적 타입 언어다. 따라서 변수의 타입은 런타임에 결정된다.
이와 반대인 정적 타입 언어도 존재한다. 정적 타입 언어는 변수의 타입이 컴파일 타임에 결정된다. 동적 타입 언어에는 파이썬(Python), PHP 등이 있고, 정적 타입 언어에는 자바(Java), C++ 등이 있다.

우리는 이번 정리에서 정적 타입 언어인 타입스크립트에 대해 알아볼 것이다.

# 타입스크립트란?

타입스크립트는 자바스크립트의 모든 기능을 포함하면서 정적 타입을 지원하는 언어다.
그렇다면 왜 자바스크립트에 정적 타입이 필요할까?
자바스크립트에 정적 타입을 추가해 주는 언어와 도구는 Elm, ReasonMl, PureScript, Flow 등 다양하다.

## 동적 타입 언어와 정적 타입 언어

- 동적 타입 언어의 특징

1. 타입에 대한 고민을 하지 않아도 되므로 배우기 쉽다.
2. 코드의 양이 적을 때 생산성이 높다.
3. 타입 오류가 런타임 시 발견된다.

- 정적 타입 언어의 특징

1. 변수를 선언할 때마다 타입을 고민해야 하므로 진입 장벽이 높다.
2. 코드의 양이 많을 때 동적 타입 언어에 비해 생산성이 높다.
3. 타입 오류가 컴파일 시 발견된다.

> #### 정적 타입 언어가 생산성이 높은 이유?
>
> 정적 타입 언어의 코드는 타입으로 서로 연결되어 있다. 덕분에 연관된 코드 간의 이동이 쉽고, 변수명이나 함수명을 변경하는 등의 리팩토링도 쉽다. 임포트(import)하지 않고 코드를 작성해도 단축키 한 번이면 IDE가 필요한 임포트 코드를 자동으로 넣어준다.
> 함수를 호출하기 위해 함수 이름과 괄호를 입력하면 함수의 매개변수 종류와 반환값의 타입을 확인할 수 있다. 속성 값의 종류가 많은 객체라 하더라도 객체 이름과 점을 입력하면 속성 값 목록을 확인할 수 있다.

## 타입스크립트의 사용

타입스크립트를 실습하기에 앞서 [Typescript](https://www.typescriptlang.org/play/) 링크를 누르면 실습할 수 있는 공간이 나온다. 여기에서 코드를 입력해보자.

```js
let v1 = 123;
v1 = 'abc'; // type error
```

변수 `v1`에 마우스를 올려보면 let v1: number라는 문구가 보이고, 이것은 `v1` 변수가 타입이 숫자라는 것을 알려준다. 2열에서 숫자가 아닌 문자열을 입력하면 컴파일 타임에 에러가 발생한다. 즉, 코드를 실행해 보기도 전에 타입 에러를 확인할 수 있다.
위에서처럼 타입을 명시적으로 입력하지 않아도 타입스크립트가 숫자 타입으로 인식하는 것을 확인했다. 이렇게 자동으로 타입을 인식하는 기능을 `타입 추론(type interface)`라고 한다.
타입 추론 덕분에 기존의 자바스크립트 코드를 크게 변경하지 않고도 타입스크립트를 비교적 쉽게 적용할 수 있다.

> #### 타입스크립트에서 타입을 선언하는 방법
>
> 자바스크립트는 동적 타입 언어이므로 아래처럼 작성할 수도 있다.

```js
let v1 = 123;
v1 = 'abc';
```

하지만 타입스크립트에서는 변수 `v1`의 타입이 숫자이거나 문자열일 수 있다면 다음과 같이 명시적으로 타입 정보를 입력해야 한다.

```js
let v1: number | string = 123;
v1 = 'abc';
```

변수 `v1`을 숫자나 문자열인 타입으로 정의했다. 따라서 위의 코드에서는 2열에서 타입에러가 발생하지 않는다.

## 타입스크립트의 여러가지 타입

먼저 타입스크립트에서 자주 사용되는 몇 가지 기본 타입을 알아보자.

```js
const size: number = 123;
const isBig: boolean = size >= 100;
const msg: string = isBig ? '크다' : '작다';

const values: number[] = [1, 2, 3];
const values2: Array<number> = [1, 2, 3];
values.push('a'); // type error

const data: [string, number] = [msg, size];
data[0].substr(1);
data[1].substr(1); // type error
```

위의 코드는 타입스크립트의 기본 타입들을 나열한 것이다.
코드에 어떤 내용이 들어갔는지 한 번 알아보자.

```js
const values: number[] = [1, 2, 3];
const values2: Array<number> = [1, 2, 3];
```

위의 코드를 보면 **배열 타입**은 두 가지 방법으로 정의할 수 있다.

```js
values.push('a'); // type error
```

이 코드는 숫자 배열에 문자열을 입력했기 때문에 타입 에러가 발생한 것이다.

```js
const data: [string, number] = [msg, size];
```

이 코드는 `문자열과 숫자로 구성`된 **튜플(tuple) 타입**을 정의한 것이다.

```js
data[1].substr(1);
```

이 코드는 두 번째 아이템의 타입은 숫자인데 문자열의 메서드를 호출했기 때문에 타입 에러가 발생한 것이다.

> #### null과 undefined 타입
>
> 자바스크립트에서 값으로 존재하는 `null`과 `undefined`는 타입스크립트에서 각각 타입으로 존재한다.

```js
let v1: undefined = undefined;
let v2: null = null;
v1 = 123; // type error

let v3: number | undefined = undefined;
v3 = 123;
```

위 코드를 보면 undefined와 null은 타입스크립트에서 타입으로 사용될 수 있다는 걸 보여주고 있다.
3행의 코드를 보면 undefined 타입에 숫자를 입력하면 타입 에러가 발생한다.
`undefined`와 `null 타입`은 다른 타입과 함께 **유니온 타입**으로 정의할 때 많이 사용된다.

> #### 문자열 리터럴과 숫자 리터럴 타입
>
> 타입스크립트에서는 문자열 리터럴과 숫자 리터럴을 타입으로 정의할 수 있다.

```js
let v1: 10 | 20 | 30;
v1 = 10;
v1 = 15; // type error

let v2: '경찰관' | '소방관';
v2 = '의사'; // type error
```

숫자 10, 20, 30은 각각 타입으로 사용된 것을 볼 수 있다. 변수 v1은 오직 숫자 10, 20, 30만 가질 수 있는 타입으로 정의되었고, 변수 v2는 `문자열 리터럴 타입`으로 정의했다.

> #### any 타입
>
> `any 타입`은 `모든 종류의 값을 허용하는 타입`이다.

```js
let value: any;
value = 123;
value = '456';
value = () => {};
```

any 타입에는 숫자와 문자열뿐만 아니라 함수도 입력될 수 있다. any 타입은 기존 프로젝트의 모든 코드에 타입을 한 번에 정의하는 것은 부담되기 때문에 타입 에러가 나는 부분은 임시적으로 any 타입을 사용해 정의하면 된다. 단, any 타입을 남발하면 타입스크립트를 사용하는 의미가 퇴색되기 때문에 되도록 피하는 것이 좋다!!!🧐

> #### void와 never 타입
>
> `아무 값도 반환하지 않고 종료되는 함수의 반환 타입`은 `void 타입`으로 정의할 수 있다.
> 그리고 항상 예외가 발생해서 비정상적으로 종료되거나 무한 루프 때문에 종료되지 않는 함수의 반환 타입은 `never 타입`으로 정의할 수 있다.
> 그렇다면 직접 코드를 눈으로 보고 쳐보면서 익혀보자.

```js
funtion f1(): void {
  console.log('hello');
}
```

위의 코드는 아무 것도 반환하지 않으므로 void 타입으로 정의했다.

```js
function f2(): never {
	throw new Error('some error');
}
```

위의 코드는 함수가 항상 비정상적으로 종료되므로 never 타입으로 정의했다.

```js
function f3(): never {
	while (true) {
		// ...
	}
}
```

위의 코드는 함수가 종료되지 않으므로 never 타입으로 정의했다.

> #### object 타입
>
> object 타입은 자바스크립트에서 일반적으로 사용되는 객체의 타입이다.

```js
let v: object;
v = { name: 'abc' };
console.log(v.prop1); // type error
```

객체의 속성에 대한 정보가 없기 때문에, 특정 속성 값에 접근하면 타입 에러가 발생한다. 속성 정보를 포함해서 타입을 정의하기 위해서는 `인터페이스(interface)`를 사용해야 한다.

> #### 교차 타입과 유니온 타입
>
> 여러 타입의 교집합과 합집합을 각각 `교차(intersection) 타입`과 `유니온(union) 타입`으로 표현할 수 있다. `교차 타입`은 **&** 기호로 정의하고, `유니온 타입`은 **|** 기호로 정의한다.

```js
let v1: (1 | 3 | 5) & (3 | 5 | 7);
v1 = 3;
v1 = 1; // type error
```

변수 v1의 타입은 3 | 5와 같다. 변수 v1에는 3 또는 5가 아닌 값을 할당할 수 없다.

> #### type 키워드로 타입에 별칭 주기
>
> `type 키워드`를 사용해서 타입에 별칭을 줄 수 있다. 타입 별칭은 타입을 선언할 때 편리하게 사용할 수 있다.

```js
type Width = number | string;
let width: Width;
width = 100;
width = '100px';
```

number | string 타입에 Width라는 별칭을 부여한다. Width는 일반적인 타입처럼 사용될 수 있다.

다음 포스트에서는 타입스크립트에서 열거형 타입에 대해 알아보겠다. 뿅~!!
